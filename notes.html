<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Notes for Charlotte</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,600&family=Montserrat:wght@400;600&display=swap');

:root {
    --pink: #ff2a6d;
}

body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: 'Montserrat', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
}

/* ---------- Floating hearts (reduced) ---------- */
.heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: rgba(255,105,180,0.7);
    transform: rotate(45deg);
    animation: float 6s linear infinite;
    filter: drop-shadow(0 0 8px rgba(255,105,180,0.7));
}

.heart::before,
.heart::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background: rgba(255,105,180,0.7);
    border-radius: 50%;
}

.heart::before { top: -10px; }
.heart::after { left: -10px; }

@keyframes float {
    from { transform: rotate(45deg) translateY(110vh); opacity: 0.8; }
    to { transform: rotate(45deg) translateY(-120px); opacity: 0; }
}

/* ---------- Layout ---------- */
.container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem 1.5rem 4rem;
    position: relative;
    z-index: 2;
}

.notes-title {
    font-family: 'Playfair Display', serif;
    font-size: 3rem;
    text-align: center;
    margin-bottom: 3rem;
    text-shadow:
        0 0 10px rgba(255,105,180,0.6),
        0 0 25px rgba(255,105,180,0.4);
}

/* ---------- Notes grid ---------- */
.notes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
    gap: 1.5rem;
}

/* ---------- Note card ---------- */
.note-wrapper {
    text-align: center;
}

.note-card {
    height: 110px;
    border-radius: 14px;
    background: rgba(20,20,30,0.7);
    position: relative;
    transition: 0.3s;
    cursor: pointer;
}

.note-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 0 18px rgba(255,42,109,0.4);
}

.note-card.locked {
    backdrop-filter: blur(8px);
    background: rgba(255,255,255,0.08);
    cursor: not-allowed;
    box-shadow: none;
}

.lock-icon {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
}

.note-date {
    margin-top: 0.4rem;
    font-size: 0.75rem;
    color: rgba(255,255,255,0.75);
}
</style>
</head>

<body>

<div class="container">
    <h1 class="notes-title">Notes for Charlotte</h1>
    <div class="notes-grid" id="notesGrid"></div>
</div>

<script>
/* ---------- Floating hearts ---------- */
function createHeart() {
    const h = document.createElement('div');
    h.className = 'heart';
    h.style.left = Math.random() * window.innerWidth + 'px';
    h.style.animationDuration = (Math.random() * 3 + 4) + 's';
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 7000);
}

for (let i = 0; i < 8; i++) createHeart();
setInterval(createHeart, 700);

/* ---------- Notes logic ---------- */
const START_DATE = new Date(2025, 11, 14); // Dec 14, 2025
const TOTAL_DAYS = 23;
const grid = document.getElementById('notesGrid');

const notes = Array.from({ length: TOTAL_DAYS }, (_, i) => ({
    index: i,
    date: new Date(
        START_DATE.getFullYear(),
        START_DATE.getMonth(),
        START_DATE.getDate() + i
    ),
    content: '---' // å ä½ç¬¦
}));

function isUnlocked(index) {
    const now = new Date();
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
    const target = new Date(
        START_DATE.getFullYear(),
        START_DATE.getMonth(),
        START_DATE.getDate() + index
    );

    const diffDays = (today - target) / (1000 * 60 * 60 * 24);

    if (diffDays > 0) return true;
    if (diffDays === 0 && now.getHours() >= 7) return true;
    return false;
}

/* ---------- Emoji logic ---------- */
function getSpecialEmoji(date) {
    const month = date.getMonth();
    const day = date.getDate();

    if (month === 11 && day === 24) return 'ðŸŒŸ'; // Christmas Eve
    if (month === 11 && day === 25) return 'ðŸŽ„'; // Christmas
    return null;
}

/* ---------- Render ---------- */
function renderNotes() {
    grid.innerHTML = '';

    notes.forEach(note => {
        const unlocked = isUnlocked(note.index);
        const specialEmoji = getSpecialEmoji(note.date);

        const wrap = document.createElement('div');
        wrap.className = 'note-wrapper';

        const card = document.createElement('div');
        card.className = 'note-card' + (unlocked ? '' : ' locked');

        if (!unlocked) {
            card.innerHTML = `<div class="lock-icon">ðŸ”’</div>`;
            card.onclick = () =>
                alert('Be patient you little pumpkin ðŸŽƒ');
        } else if (specialEmoji) {
            card.innerHTML = `<div class="lock-icon">${specialEmoji}</div>`;
        }

        const date = document.createElement('div');
        date.className = 'note-date';
        date.textContent = note.date.toLocaleDateString('en-US', {
            month: 'short',
            day: 'numeric'
        });

        wrap.appendChild(card);
        wrap.appendChild(date);
        grid.appendChild(wrap);
    });
}

renderNotes();
</script>

</body>
</html>
